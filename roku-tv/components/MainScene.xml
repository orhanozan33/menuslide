<?xml version="1.0" encoding="utf-8" ?>
<component name="MainScene" extends="Group" xsdDialect="Roku-SceneGraph" width="1920" height="1080" focusable="true">
  <script type="text/brightscript" uri="pkg:/components/MainScene.brs"/>
  <interface>
    <field id="layout" type="assocarray"/>
    <field id="requestShowCode" type="boolean" value="false" alwaysNotify="true"/>
  </interface>
  <children>
    <Rectangle
      id="bg"
      width="1920"
      height="1080"
      color="0x000000FF"/>
    <!-- Current slide: image (Poster) or text (Labels in layoutGroup) -->
    <Poster
      id="currentSlidePoster"
      width="1920"
      height="1080"
      translation="[0, 0]"
      visible="false"
      loadDisplayMode="scaleToFit"/>
    <Group id="layoutGroup"/>
    <!-- Preload next image for smooth transition -->
    <Poster
      id="nextSlidePoster"
      width="1920"
      height="1080"
      translation="[0, 0]"
      visible="false"
      loadDisplayMode="scaleToFit"/>
    <!-- Fade in: opacity 0 -> 1 -->
    <Animation id="fadeIn" duration="0.3" easeFunction="linear">
      <FloatFieldInterpolator id="fadeInterp" fieldToInterp="currentSlidePoster.opacity" key="[0.0, 1.0]" keyValue="[0.0, 1.0]"/>
    </Animation>
    <!-- Slide left: current -> left, next -> center -->
    <Animation id="slideLeft" duration="0.3" easeFunction="linear">
      <Vector2DFieldInterpolator id="slideCurrent" fieldToInterp="currentSlidePoster.translation" key="[0.0, 1.0]" keyValue="[[0, 0], [-1920, 0]]"/>
      <Vector2DFieldInterpolator id="slideNext" fieldToInterp="nextSlidePoster.translation" key="[0.0, 1.0]" keyValue="[[1920, 0], [0, 0]]"/>
    </Animation>
    <!-- Fade: crossfade current out, next in -->
    <Animation id="fadeTransition" duration="0.4" easeFunction="linear">
      <FloatFieldInterpolator fieldToInterp="currentSlidePoster.opacity" key="[0.0, 1.0]" keyValue="[1.0, 0.0]"/>
      <FloatFieldInterpolator fieldToInterp="nextSlidePoster.opacity" key="[0.0, 1.0]" keyValue="[0.0, 1.0]"/>
    </Animation>
    <Label
      id="status"
      translation="[100, 100]"
      width="1720"
      height="60"
      text="Loading. Please Wait."
      font="font:MediumBoldSystemFont"
      color="0xFFFFFFFF"
      visible="true"/>
  </children>
</component>
